c
current_user.messages.select("DISTINCT ON(cellar_id) *").order("cellar_id, created_at DESC")c
current_user.messages.select("DISTINCT ON(cellar_id) *").order("cellar_id, created_at DESC")
current_user.select("DISTINCT ON(cellar_id) *").order("cellar_id, created_at DESC")
current_user.messages.group(:cellar_id).having('created_at = MAX(created_at)').inspect
current_user.messages.group(:cellar_id).having('created_at = MAX(date)').inspect
current_user.messages.group(:cellar_id).having('date = MAX(date)').inspect
current_user.messages.group(:cellar_id).having('date = MAX(date)')
current_user.messages.group(:cellar).having('date = MAX(date)')
current_user.messages.group('"cellar"').having('date = MAX(date)')
current_user.messages.order(:created_at).uniq(:cellar_id)
current_user.messages.order(:created_at).uniq(:id, :cellar_id)
current_user.messages.order(:created_at).group(:id, :cellar_id)
current_user.messages.order(:created_at).group(:id, :cellar_id).count
Message.create(content: "Last message", user_id: 11, cellar_id: 1)
Message.last
Messages.last
current_user.messages.order(:created_at).group(:id, :cellar_id).count
current_user.messages.order(:created_at).group(:id, :cellar_id)
current_user.messages.order(:created_at).group(:id, :cellar_id).inspect
current_user.messages.order(:created_at).group(:message, :cellar_id).inspect
current_user.messages.order(:created_at).group(:cellar_id).inspect
current_user.messages.order(:created_at).group(:cellar_id)
current_user.messages.group(:cellar)
current_user.messages.group("cellar")
current_user.messages.group("cellar_id")
current_user.messages.group(:cellar_id)
current_user.messages.uniq()
current_user.messages
current_user











